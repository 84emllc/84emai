{{ define "main" }}
<article class="home">
  <section class="intro">
    <h1>{{ site.Title }}</h1>
    <p>{{ site.Params.description }}</p>
  </section>

  <section class="recent-posts">
    <h2>Latest Posts</h2>
    {{- $posts := where site.RegularPages "Section" "posts" -}}
    {{- if $posts -}}
    <ul class="post-list-compact">
      {{- range first 10 $posts -}}
      <li>
        <div class="post-info">
          <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
          {{- with .Params.description }}
          <p>{{ . }}</p>
          {{- end }}
        </div>
        <div class="post-date">
          <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2 Jan 2006" }}</time>
          {{- $readTime := div .WordCount 100 }}{{ if lt $readTime 1 }}{{ $readTime = 1 }}{{ end }}
          <span class="reading-time">{{ $readTime }} min read</span>
        </div>
      </li>
      {{- end -}}
    </ul>
    <a href="{{ "/posts/" | relURL }}" class="see-all">See all posts</a>
    {{- else -}}
    <p>No posts yet.</p>
    {{- end -}}
  </section>
</article>
{{ end }}
