{{ define "main" }}
{{ partial "breadcrumbs.html" . }}
<article class="list-page">
  <header>
    <h1>{{ .Title }}</h1>
    {{- with .Content }}
    <div class="section-description">{{ . }}</div>
    {{- end }}
  </header>

  {{- $pages := .Pages -}}
  {{- if .IsHome -}}
    {{- $pages = where site.RegularPages "Section" "posts" -}}
  {{- end -}}

  {{- if $pages -}}
  <ul class="post-list">
    {{- range $pages.ByDate.Reverse -}}
    <li class="post-item">
      <article>
        <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
        <div class="post-meta">
          <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
          {{- $readTime := div .WordCount 100 }}{{ if lt $readTime 1 }}{{ $readTime = 1 }}{{ end }}
          <span class="reading-time">{{ $readTime }} min read</span>
        </div>
        {{- with .Params.description }}
        <p>{{ . }}</p>
        {{- end }}
      </article>
    </li>
    {{- end -}}
  </ul>

  {{- template "_internal/pagination.html" . -}}
  {{- else -}}
  <p>No content yet.</p>
  {{- end -}}
</article>
{{ end }}
